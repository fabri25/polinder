{"ast":null,"code":"//import axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      enteredName: '',\n      chosenRating: null,\n      invalidInput: false,\n      error: null\n    };\n  },\n  //emits: ['survey-submit'],\n  methods: {\n    submitSurvey() {\n      if (this.enteredName === '' || !this.chosenRating) {\n        this.invalidInput = true;\n        return;\n      }\n      this.invalidInput = false;\n\n      // this.$emit('survey-submit', {\n      //   userName: this.enteredName,\n      //   rating: this.chosenRating,\n      //});\n\n      // axios.post('https://vue-http-demo-85e9e.firebaseio.com/surveys.json', {\n      //   name: this.enteredName,\n      //   rating: this.chosenRating,\n      // });\n\n      this.error = null;\n      fetch('https://vue-http-demo-c68cf-default-rtdb.firebaseio.com/surveys.json', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'aplication/json'\n        },\n        body: JSON.stringify({\n          name: this.enteredName,\n          rating: this.chosenRating\n        })\n      }).then(response => {\n        if (response.ok) {\n          //...\n        } else {\n          throw new Error('Could not save data!');\n        }\n      }).catch(error => {\n        console.log(error);\n        this.error = error.message;\n      });\n      this.enteredName = '';\n      this.chosenRating = null;\n    }\n  }\n};","map":{"version":3,"mappings":"AAyCA;;AAGA,eAAe;EAEbA,IAAI,GAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,IAAI;MAClBC,YAAY,EAAE,KAAK;MACnBC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACD;EACAC,OAAO,EAAE;IACPC,YAAY,GAAG;MACb,IAAI,IAAI,CAACL,WAAU,KAAM,EAAC,IAAK,CAAC,IAAI,CAACC,YAAY,EAAE;QACjD,IAAI,CAACC,YAAW,GAAI,IAAI;QACxB;MACF;MACA,IAAI,CAACA,YAAW,GAAI,KAAK;;MAEzB;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;;MAEA,IAAI,CAACC,KAAI,GAAI,IAAI;MACjBG,KAAK,CAAC,sEAAsE,EAAE;QAC5EC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,IAAI,EAAE,IAAI,CAACZ,WAAW;UACtBa,MAAM,EAAE,IAAI,CAACZ;QACf,CAAC;MACH,CAAC,CAAC,CAACa,IAAI,CAACC,QAAO,IAAK;QAClB,IAAGA,QAAQ,CAACC,EAAE,EAAC;UACb;QAAA,CACF,MAAO;UACL,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;QACzC;MACF,CAAC,CAAC,CAACC,KAAK,CAAEf,KAAK,IAAI;QACjBgB,OAAO,CAACC,GAAG,CAACjB,KAAK,CAAC;QAClB,IAAI,CAACA,KAAI,GAAIA,KAAK,CAACkB,OAAO;MAC5B,CAAC,CAAC;MAEF,IAAI,CAACrB,WAAU,GAAI,EAAE;MACrB,IAAI,CAACC,YAAW,GAAI,IAAI;IAC1B;EACF;AACF,CAAC","names":["data","enteredName","chosenRating","invalidInput","error","methods","submitSurvey","fetch","method","headers","body","JSON","stringify","name","rating","then","response","ok","Error","catch","console","log","message"],"sourceRoot":"","sources":["C:\\Users\\Alexis Jaimes\\Desktop\\vueProjects\\http-01-starting-setup\\src\\components\\survey\\LearningSurvey.vue"],"sourcesContent":["<template>\n  <section>\n    <base-card>\n      <h2>How was you learning experience?</h2>\n      <form @submit.prevent=\"submitSurvey\">\n        <div class=\"form-control\">\n          <label for=\"name\">Your Name</label>\n          <input type=\"text\" id=\"name\" name=\"name\" v-model.trim=\"enteredName\" />\n        </div>\n        <h3>My learning experience was ...</h3>\n        <div class=\"form-control\">\n          <input type=\"radio\" id=\"rating-poor\" value=\"poor\" name=\"rating\" v-model=\"chosenRating\" />\n          <label for=\"rating-poor\">Poor</label>\n        </div>\n        <div class=\"form-control\">\n          <input\n            type=\"radio\"\n            id=\"rating-average\"\n            value=\"average\"\n            name=\"rating\"\n            v-model=\"chosenRating\"\n          />\n          <label for=\"rating-average\">Average</label>\n        </div>\n        <div class=\"form-control\">\n          <input type=\"radio\" id=\"rating-great\" value=\"great\" name=\"rating\" v-model=\"chosenRating\" />\n          <label for=\"rating-great\">Great</label>\n        </div>\n        <p\n          v-if=\"invalidInput\"\n        >One or more input fields are invalid. Please check your provided data.</p>\n        <p v-if=\"error\">{{ error }}</p>\n        <div>\n          <base-button>Submit</base-button>\n        </div>\n      </form>\n    </base-card>\n  </section>\n</template>\n\n<script>\n//import axios from 'axios';\n\n\nexport default {\n  \n  data() {\n    return {\n      enteredName: '',\n      chosenRating: null,\n      invalidInput: false,\n      error: null\n    };\n  },\n  //emits: ['survey-submit'],\n  methods: {\n    submitSurvey() {\n      if (this.enteredName === '' || !this.chosenRating) {\n        this.invalidInput = true;\n        return;\n      }\n      this.invalidInput = false;\n\n      // this.$emit('survey-submit', {\n      //   userName: this.enteredName,\n      //   rating: this.chosenRating,\n      //});\n\n      // axios.post('https://vue-http-demo-85e9e.firebaseio.com/surveys.json', {\n      //   name: this.enteredName,\n      //   rating: this.chosenRating,\n      // });\n\n      this.error = null;\n      fetch('https://vue-http-demo-c68cf-default-rtdb.firebaseio.com/surveys.json', {\n        method: 'POST', \n        headers: {\n          'Content-Type': 'aplication/json'\n        },\n        body: JSON.stringify({\n          name: this.enteredName,\n          rating: this.chosenRating\n        }),\n      }).then(response => {\n        if(response.ok){\n          //...\n        } else {\n          throw new Error('Could not save data!');\n        }\n      }).catch((error) =>{\n        console.log(error);\n        this.error = error.message;\n      });\n\n      this.enteredName = '';\n      this.chosenRating = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form-control {\n  margin: 0.5rem 0;\n}\n\ninput[type='text'] {\n  display: block;\n  width: 20rem;\n  margin-top: 0.5rem;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}